<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Complete Metronome</title>
    <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)" />
    <meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)" />
    <link rel="icon" href="assets/icon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="manifest" href="manifest.webmanifest" />
  </head>
  <body>
    <main class="app-shell">
      <section class="panel controls">
        <div class="theme-toggle">
          <button class="theme-toggle-button" id="theme-toggle" type="button" aria-label="Toggle theme">
            Theme
          </button>
        </div>
        <div class="tempo-block" id="tempo-block" aria-label="Tempo control">
        <div class="tempo-display" id="tempo-display">
          <div class="tempo-value" id="tempo-value">120</div>
          <input
            class="tempo-input"
            id="tempo-input"
            type="number"
            inputmode="numeric"
            min="20"
            max="300"
            aria-label="Tempo value"
          />
        </div>
        <div class="tempo-wheel-row">
          <div class="tempo-stepper">
            <button
              class="tempo-step"
              id="tempo-step-plus"
              type="button"
              aria-label="Increase tempo"
            >
              +
            </button>
            <button
              class="tempo-step"
              id="tempo-step-minus"
              type="button"
              aria-label="Decrease tempo"
            >
              -
            </button>
          </div>
          <div
            class="tempo-wheel"
            id="tempo-wheel"
            role="slider"
            aria-label="Tempo"
            aria-valuemin="20"
            aria-valuemax="300"
            aria-valuenow="120"
          >
            <div class="wheel-track" aria-hidden="true"></div>
            <div class="wheel-center">
              <div class="tempo-value" id="tempo-wheel-value">120</div>
              <div class="wheel-unit">BPM</div>
            </div>
          </div>
        </div>
        <p class="tempo-hint tempo-hint--desktop">Drag, scroll or click to adjust tempo.</p>
        </div>

        <div class="transport transport-main">
          <button class="transport-button" id="toggle-play" type="button">Start</button>
        </div>

        <div class="transport transport-tools">
          <div class="tool-group tool-group--trainer">
            <button
              class="trainer-disclosure"
              id="trainer-disclosure"
              type="button"
              aria-expanded="false"
              aria-controls="trainer-panel"
            >
              Trainer
            </button>
            <div class="trainer-panel" id="trainer-panel">
              <div class="trainer-controls">
              <div class="trainer-row">
                <div class="wheel-field">
                  <button
                    class="wheel-trigger"
                    id="trainer-bpm-trigger"
                    type="button"
                    aria-haspopup="listbox"
                    aria-expanded="false"
                  ></button>
                  <select id="trainer-bpm" aria-label="Trainer tempo increment"></select>
                  <div
                    class="wheel-picker"
                    id="trainer-bpm-picker"
                    role="listbox"
                    aria-label="Trainer BPM increment"
                  ></div>
                </div>
                <span class="trainer-separator" aria-hidden="true">BPM</span>
                <div class="wheel-field">
                  <button
                    class="wheel-trigger"
                    id="trainer-bars-trigger"
                    type="button"
                    aria-haspopup="listbox"
                    aria-expanded="false"
                  ></button>
                  <select id="trainer-bars" aria-label="Trainer bars interval"></select>
                  <div
                    class="wheel-picker"
                    id="trainer-bars-picker"
                    role="listbox"
                    aria-label="Trainer bars interval"
                  ></div>
                </div>
                <span class="trainer-separator" aria-hidden="true">bars</span>
              </div>
              <div class="trainer-row">
                <div class="wheel-field">
                  <button
                    class="wheel-trigger"
                    id="trainer-seconds-bpm-trigger"
                    type="button"
                    aria-haspopup="listbox"
                    aria-expanded="false"
                  ></button>
                  <select
                    id="trainer-seconds-bpm"
                    aria-label="Trainer tempo increment per seconds"
                  ></select>
                  <div
                    class="wheel-picker"
                    id="trainer-seconds-bpm-picker"
                    role="listbox"
                    aria-label="Trainer BPM increment seconds"
                  ></div>
                </div>
                <span class="trainer-separator" aria-hidden="true">BPM</span>
                <div class="wheel-field">
                  <button
                    class="wheel-trigger"
                    id="trainer-seconds-trigger"
                    type="button"
                    aria-haspopup="listbox"
                    aria-expanded="false"
                  ></button>
                  <select id="trainer-seconds" aria-label="Trainer seconds interval"></select>
                  <div
                    class="wheel-picker"
                    id="trainer-seconds-picker"
                    role="listbox"
                    aria-label="Trainer seconds interval"
                  ></div>
                </div>
                <span class="trainer-separator" aria-hidden="true">secs</span>
              </div>
              </div>
            </div>
          </div>
          <div class="tool-group tool-group--random-mute">
            <button
              class="random-mute-disclosure"
              id="random-mute-disclosure"
              type="button"
              aria-expanded="false"
              aria-controls="random-mute-panel"
            >
              Random mute
            </button>
            <div class="random-mute-panel" id="random-mute-panel">
              <div class="random-mute-controls">
                <div class="random-mute-row random-mute-row--percent">
                  <div class="wheel-field">
                    <button
                      class="wheel-trigger"
                      id="random-mute-percent-trigger"
                      type="button"
                      aria-haspopup="listbox"
                      aria-expanded="false"
                    ></button>
                    <select id="random-mute-percent" aria-label="Random mute percentage"></select>
                    <div
                      class="wheel-picker"
                      id="random-mute-percent-picker"
                      role="listbox"
                      aria-label="Random mute percentage"
                    ></div>
                  </div>
                  <div class="random-mute-countin" id="random-mute-countin-controls">
                    <button
                      class="random-mute-countin-disclosure"
                      id="random-mute-countin-disclosure"
                      type="button"
                      aria-expanded="false"
                      aria-controls="random-mute-countin-panel"
                    >
                      Count-in
                    </button>
                    <div class="random-mute-countin-panel" id="random-mute-countin-panel">
                      <div class="random-mute-countin-inner">
                      <div class="wheel-field wheel-field--countin" id="random-mute-countin-field">
                        <button
                          class="wheel-trigger"
                          id="random-mute-countin-trigger"
                          type="button"
                          aria-haspopup="listbox"
                          aria-expanded="false"
                        ></button>
                        <select
                          id="random-mute-countin-bars"
                          aria-label="Random mute count-in bars"
                        ></select>
                        <div
                          class="wheel-picker"
                          id="random-mute-countin-picker"
                          role="listbox"
                          aria-label="Random mute count-in bars"
                        ></div>
                      </div>
                      <span class="trainer-separator" aria-hidden="true">bars</span>
                      </div>
                    </div>
                  </div>
                </div>
                <label
                  class="random-mute-option random-mute-option--slider"
                  title="Ramp speed"
                >
                  <span class="ramp-tag" aria-hidden="true">
                    <svg viewBox="0 0 16 16" aria-hidden="true" focusable="false">
                      <path d="M2 12h12M3 12l7-7" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                  </span>
                  <input
                    id="random-mute-ramp"
                    type="range"
                    min="1"
                    max="100"
                    step="1"
                    value="100"
                  />
                  <span class="random-mute-ramp-value" id="random-mute-ramp-value">16 bars</span>
                </label>
              </div>
            </div>
          </div>
        </div>

        <div class="selectors" id="selectors">
          <label class="select-field select-field--subdivision">
            <span class="label">Time signature</span>
            <div class="time-signature-controls">
              <div class="wheel-field">
                <button
                  class="wheel-trigger"
                  id="numerator-trigger"
                  type="button"
                  aria-haspopup="listbox"
                  aria-expanded="false"
                ></button>
                <select id="time-signature-numerator" aria-label="Time signature numerator"></select>
                <div
                  class="wheel-picker"
                  id="numerator-picker"
                  role="listbox"
                  aria-label="Time signature numerator"
                ></div>
              </div>
              <span class="time-signature-separator" aria-hidden="true">/</span>
              <div class="wheel-field">
                <button
                  class="wheel-trigger"
                  id="denominator-trigger"
                  type="button"
                  aria-haspopup="listbox"
                  aria-expanded="false"
                ></button>
                <select
                  id="time-signature-denominator"
                  aria-label="Time signature denominator"
                ></select>
                <div
                  class="wheel-picker"
                  id="denominator-picker"
                  role="listbox"
                  aria-label="Time signature denominator"
                ></div>
              </div>
            </div>
          </label>

          <label class="select-field">
            <span class="label">Subdivision</span>
            <div class="wheel-field">
              <button
                class="wheel-trigger"
                id="subdivision-trigger"
                type="button"
                aria-haspopup="listbox"
                aria-expanded="false"
              ></button>
              <select id="subdivision"></select>
              <div
                class="wheel-picker"
                id="subdivision-picker"
                role="listbox"
                aria-label="Subdivision"
              ></div>
            </div>
          </label>

          <label class="select-field select-field--sound">
            <span class="label">Sound</span>
            <div class="wheel-field">
              <button
                class="wheel-trigger"
                id="sound-profile-trigger"
                type="button"
                aria-haspopup="listbox"
                aria-expanded="false"
              ></button>
              <select id="sound-profile"></select>
              <div
                class="wheel-picker"
                id="sound-profile-picker"
                role="listbox"
                aria-label="Sound profile"
              ></div>
            </div>
            <div class="volume-control">
              <input
                id="volume"
                type="range"
                min="0"
                max="1000"
                step="1"
                value="500"
                aria-label="Volume"
              />
            </div>
          </label>

          <div class="select-field select-field--accent accent-block" id="accent-block">
            <span class="label">Accent</span>
            <div class="accent-controls" id="accent-controls">
              <button
                class="accent-disclosure"
                id="accent-disclosure"
                type="button"
                aria-expanded="false"
                aria-controls="accent-panel"
              >
                Accent
              </button>
              <div class="accent-panel" id="accent-panel">
                <div class="accent-panel-inner">
                  <span class="accent-label">Every</span>
                  <div class="wheel-field wheel-field--accent" id="accent-wheel-field">
                    <button
                      class="wheel-trigger"
                      id="accent-bars-trigger"
                      type="button"
                      aria-haspopup="listbox"
                      aria-expanded="false"
                    ></button>
                    <select id="accent-bars" aria-label="Accent every X bars"></select>
                    <div
                      class="wheel-picker"
                      id="accent-bars-picker"
                      role="listbox"
                      aria-label="Accent bars"
                    ></div>
                  </div>
                  <span class="accent-label">bars</span>
                </div>
              </div>
              <div class="accent-countin" id="accent-countin-controls">
                <button
                  class="accent-countin-disclosure"
                  id="accent-countin-disclosure"
                  type="button"
                  aria-expanded="false"
                  aria-controls="accent-countin-panel"
                >
                  Count-in
                </button>
                <div class="accent-countin-panel" id="accent-countin-panel">
                  <div class="accent-countin-inner">
                    <span>Count-in</span>
                    <div class="wheel-field wheel-field--accent-countin" id="accent-countin-field">
                      <button
                        class="wheel-trigger"
                        id="accent-countin-trigger"
                        type="button"
                        aria-haspopup="listbox"
                        aria-expanded="false"
                      ></button>
                      <select
                        id="accent-countin-bars"
                        aria-label="Accent count-in bars"
                      ></select>
                      <div
                        class="wheel-picker"
                        id="accent-countin-picker"
                        role="listbox"
                        aria-label="Accent count-in"
                      ></div>
                    </div>
                    <span>bars</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="grid-panel">
          <div class="grid-header">
            <div class="accent-host" id="accent-host"></div>
          </div>
          <div class="subdivision-grid" id="subdivision-grid" aria-live="polite"></div>
          <div class="beat-grid" id="beat-grid" aria-hidden="true"></div>
        </div>
      </section>
    </main>
    <footer class="app-footer">
      <a
        class="footer-link"
        href="https://github.com/mojasp/CompleteMetronome"
        target="_blank"
        rel="noreferrer"
      >
        Source
      </a>
      <span class="footer-dot" aria-hidden="true">·</span>
      <a class="footer-link footer-link--install" href="install.html">Install</a>
      <span class="footer-dot footer-dot--install" aria-hidden="true">·</span>
      <a
        class="footer-link"
        href="https://github.com/mojasp/CompleteMetronome/blob/master/LICENSE"
        target="_blank"
        rel="noreferrer"
      >
        AGPL
      </a>
      <button class="footer-hide" id="footer-hide" type="button">Hide</button>
    </footer>

    <script type="module" src="app.js"></script>
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker.register("./sw.js");
        });
      }
    </script>
  </body>
</html>
